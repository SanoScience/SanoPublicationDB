<h1 class="mb-4">Publications</h1>

<div class="d-flex justify-content-end mb-3">
    <%= link_to 'New Publication', new_publication_path, class: "btn btn-primary" %>
</div>

<div class="row">
  <div class="col-md-6">
    <%= render 'search_form', query: @q %>
  </div>
</div>

<div class="publication-list mt-4">
  <% @publications.each do |publication| %>
    <div class="publication-item mb-4 pb-3">
      <h2>
        <%= link_to publication.title, publication_path(publication), class: "publication-title" %>
      </h2>
      <p class="publication-meta">
        <strong>Authors:</strong> <%= publication.author_list %>
      </p>
      <p class="publication-meta">
        <strong>Research groups:</strong> 
        <%= publication.research_group_publications.map { |rg| rg.research_group.name }.join(', ') %>
      </p>
      <p class="publication-meta">
        <strong>Category:</strong> <%= publication.category.humanize %> |
        <strong>Status:</strong> <%= publication.status.humanize %>
      </p>
    </div>
  <% end %>
</div>
